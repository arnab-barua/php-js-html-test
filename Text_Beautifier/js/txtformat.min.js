function btnEnabler(){var a=document.getElementById("songID").value;""!=a?document.getElementById("saveButton").disabled=!1:document.getElementById("saveButton").disabled=!0}function clearContent(){document.getElementById("lyric").value="",document.getElementById("output").value="",document.getElementById("songID").value="",btnEnabler(),document.getElementById("lyric").disabled=!1}function downloadTxt(){var a=document.getElementById("output").value;if(""!=a){var b=new Blob([a],{type:"text/plain",endings:"native"}),c=window.URL.createObjectURL(b),d=document.getElementById("songID").value,e=document.createElement("a");e.download=d,e.innerHTML="Download File",e.href=c,e.onclick=destroyClickedElement,e.style.display="none",document.body.appendChild(e),e.click()}else alert("Nothing to save")}function destroyClickedElement(a){document.body.removeChild(a.target)}function toCapitalCase(a){for(var b=/\n/gim;match=b.exec(a);)var c=match.index,a=a.slice(0,c+1)+a.charAt(c+1).toUpperCase()+a.substr(c+2);return a}function shortiFy(a){for(var c=(a.length,0),d=0;d<a.length;d++)"\n"==a.charAt(d)?c=0:" "==a.charAt(d)&&c++,10==c&&(a=a.slice(0,d)+"\n"+a.substr(d+1),c=0,d++);return a}function toTitleCase(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function formatLyric(){document.getElementById("output").value="";var a=document.getElementById("lyric").value;for(a=a.toLowerCase(),a=a.replace(/ i /gm," I "),a=a.replace(/ i\n/gm," I\n"),a=a.replace(/ i'/gm," I'"),a=a.replace(/[,.;?!(){}–\[\]\\\/\-]/gim," "),a=a.replace(/…/gim," "),a=a.replace(/[|“”："*><\^=:_@#$%~\+\t]/gim,""),a=a.replace(/\n\t+/gim,"\n"),a=a.replace(/\n+/gim,"\n"),a=a.replace(/\n +/gim,"\n"),a=a.replace(/\t+/gim," "),a=a.replace(/ +\n+/gim,"\n"),a=a.replace(/ +/gim," "),a=shortiFy(a);"\n"==a.charAt(0)||" "==a.charAt(0);)a=a.substr(1);a=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase(),a=toCapitalCase(a),a=a.replace(/ i /gm," I "),a=a.replace(/ i\n/gm," I\n"),a=a.replace(/ i'/gm," I'"),""!=document.getElementById("lyric").value?document.getElementById("output").value="Written by：\n"+a:document.getElementById("output").value="",document.getElementById("lyric").disabled=!0}function formatOutputLyric(){var a=document.getElementById("output").value;for(document.getElementById("output").value="",a=a.replace(/ i /gm," I "),a=a.replace(/ i\n/gm," I\n"),a=a.replace(/ i'/gm," I'"),a=a.replace(/\n\t+/gim,"\n"),a=a.replace(/\n +/gim,"\n"),a=a.replace(/\t+/gim," "),a=a.replace(/ +/gim," "),a=shortiFy(a),a=a.replace(/\n+/gim,"\n");"\n"==a.charAt(0)||" "==a.charAt(0);)a=a.substr(1);a=a.charAt(0).toUpperCase()+a.substr(1),a=a.replace(/ i /gm," I "),a=a.replace(/ i\n/gm," I\n"),a=a.replace(/ i'/gm," I'"),a=toCapitalCase(a),document.getElementById("output").value=a}